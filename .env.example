# Temporal Agent MCP Server - Environment Variables
# Copy this file to .env and update values as needed

# =============================================================================
# Server Configuration
# =============================================================================
PORT=3324
HOST=0.0.0.0
NODE_ENV=development

# =============================================================================
# Database (PostgreSQL) - REQUIRED
# =============================================================================
DATABASE_URL=postgresql://localhost:5432/temporal_agent
DB_POOL_SIZE=10

# =============================================================================
# Scheduler Worker
# =============================================================================
SCHEDULER_POLL_INTERVAL=10000    # Poll interval in ms (default: 10 seconds)
SCHEDULER_BATCH_SIZE=50          # Tasks per batch (default: 50)
SCHEDULER_LOCK_TIMEOUT=60000     # Lock timeout in ms (default: 1 minute)

# =============================================================================
# Task Limits
# =============================================================================
MAX_ACTIVE_TASKS=100             # Max active tasks per user
MAX_PAYLOAD_SIZE=65536           # Max payload size in bytes (64KB)
MAX_EXECUTIONS_PER_DAY=1000      # Max executions per day
MIN_CRON_INTERVAL=60             # Min cron interval in seconds (1 minute)

# =============================================================================
# Webhook Settings
# =============================================================================
WEBHOOK_TIMEOUT=30000            # Webhook timeout in ms (30 seconds)
WEBHOOK_MAX_RETRIES=3            # Max retry attempts
WEBHOOK_RETRY_DELAY=60000        # Retry delay in ms (1 minute)

# =============================================================================
# Security - IMPORTANT: Change in production!
# =============================================================================
HMAC_SECRET=change-me-in-production
API_KEY=                         # Optional: API key for authentication
ALLOWED_WEBHOOK_DOMAINS=         # Optional: Comma-separated allowlist (empty = allow all with SSRF protection)

# =============================================================================
# Slack Integration (Optional)
# =============================================================================
SLACK_WEBHOOK_URL=               # Slack incoming webhook URL

# =============================================================================
# Email Integration (Optional)
# =============================================================================
SMTP_HOST=                       # SMTP server hostname
SMTP_PORT=587                    # SMTP port (587 for TLS, 465 for SSL)
SMTP_SECURE=false                # Use SSL (true for port 465)
SMTP_USER=                       # SMTP username
SMTP_PASS=                       # SMTP password
SMTP_FROM=temporal-agent@localhost  # From email address
